
<!DOCTYPE html>
<html>
<style>
    * {
        box-sizing: border-box;
    }

    html,
    body {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        border: 1px solid transparent;
    }

    body {
        background-color: whitesmoke;
    }

    main {
        overflow: hidden;
        padding: 2em;
        width: 30em;
        margin: 10em auto;
        background-color: white;
        box-shadow: 0 0 0.3em #aaa;
    }

    #q {
        font-weight: bold;
    }

    .answers {
        line-height: 1.5em;
    }

    .answer>label {
        line-height: 1.5em;
        cursor: pointer;
    }

    input[type=radio] {
        cursor: pointer;
    }

    input[type=radio]:disabled {
        display: none;
    }

    input[type=radio]:disabled+label {
        cursor: default;
    }

    :disabled+label[correct='no']::before {
        content: '❌';
        margin-left: .5em;
    }

    :disabled+label[correct='yes']::before {
        content: '✔️';
        margin-left: .5em;
    }

    #chat {
        max-height: 80em;
        margin: 2em 0;
        overflow: auto;
        font-size: .8em;
        opacity: 0;
        /* transition: opacity 3s; */
    }

    .msg {
        margin: .5em 0;
        padding: .3em .5em;
        background-color: #f0fff3;
        border: 1px solid #eee;
        border-radius: .5em;
    }

    time {
        color: #999;
        font-size: .8em;
        float: left;
    }

    .sender {
        font-weight: bold;
    }

    #score {
        font-size: 1.5em;
        font-weight: bold;
        text-align: center;
    }
</style>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>

    <title>מי אמר למי?</title>

    <meta property="og:title" content="מי אמר למי?">
    <meta property="og:site_name" content="מי אמר למי?">
    <meta property="og:url" content="">
    <meta property="og:description" content="מי אמר למי?.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://gkutiel.github.io/wabot/favicon.png">

    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="icon" type="image/png" href="https://gkutiel.github.io/wabot/favicon.png" />


</head>

<body dir='rtl'>
    <main>
        <p>מי אמר/ה?</p>
        <p id='q'></p>

        <div id='answers'>
        </div>

        <div id="chat"></div>

        <div class="next">
            <button id='next'>שאלה הבאה</button>
        </div>
        <div id="score"></div>
    </main>
</body>

<script>
    function $(id) {
        return document.getElementById(id);
    }

    function e(html) {
        const div = document.createElement('div')
        div.innerHTML = html
        return div.firstElementChild
    }

    class Question {
        constructor(text) {
            this.e = $('q');
        }
        set text(text) {
            this.e.innerText = text;
        }
    }

    class Answer {
        static id = 0;
        constructor(cb) {
            const id = Answer.id++;
            this.good = false
            this.e = e(`
                <div class="answer">
                    <input type='radio' id='${id}' name='answer' />
                    <label for='${id}' correct='no'></label>
                </div>
            `)
            $('answers').appendChild(this.e)

            this.e.addEventListener('change', () => {
                $('chat').style.opacity = 1;
                cb(this.correct);
            })

            this.label = this.e.querySelector('label')
            this.input = this.e.querySelector('input')
        }

        set text(text) {
            this.label.innerText = text;
            this.input.disabled = false;
            this.input.checked = false;
        }

        set correct(correct) {
            this.good = correct;
            this.label.setAttribute('correct', correct ? 'yes' : 'no')
        }

        get correct() {
            return this.good;
        }

        disable() {
            this.input.disabled = true;
        }
    }

    class Chat {
        constructor() {
            this.e = $('chat');
        }
        set msgs(msgs) {
            this.e.style.opacity = 0;
            this.e.innerHTML = '';
            for (const msg of msgs) {
                this.e.appendChild(e(`
                    <div class='msg'>
                        <time>${msg.time}</time>
                        <span class='sender'>${msg.sender}</span>
                        <div>${msg.text}</div>
                    </div>
                `))
            }
        }
    }


    class Quiz {
        constructor(quiz) {
            this.score = 0;
            this.qid = 0;
            this.quiz = quiz;

            this.scoreDiv = $('score');
            this.question = new Question();

            this.answers = [
                new Answer(this.on_answer),
                new Answer(this.on_answer),
                new Answer(this.on_answer)];

            this.chat = new Chat();
            this.nextButton = $('next');
            this.nextButton.addEventListener('click', this.next);
        }

        nextQuestion() {
            return this.quiz[this.qid++];
        }

        on_answer = (correct) => {
            if (correct) {
                this.score++;
            }

            for (let answer of this.answers) {
                answer.disable();
            }

            this.nextButton.disabled = false;
            this.scoreDiv.innerText = `${this.qid}/${this.quiz.length}`;
        }

        next = () => {
            try {
                const q = this.nextQuestion();
                this.nextButton.disabled = true;
                this.question.text = q.text;
                this.chat.msgs = q.chat;

                for (let i = 0; i < this.answers.length; i++) {
                    this.answers[i].text = q.senders[i];
                    this.answers[i].correct = q.senders[i] === q.sender;
                }
            } catch (e) {
                const score = (this.score / this.qid * 100).toFixed(0)
                this.scoreDiv.innerText = `תוצאה סופית: ${score}%`;
            }
        }
    }
    const quiz = new Quiz([{"text": "מסתבר שבזמן הקורונה אפשר לעשות פרויקט 20%. כאילו לא אמרו את זה במפורש אבל זה השתמע.", "sender": "גלעד", "senders": ["איילת אדלר", "ד\"ר טליה שנצר", "גלעד"], "chat": [{"time": "13/07/2020, 08:42", "sender": "יובל קורן", "text": "הוא עוד משחק?"}, {"time": "13/07/2020, 08:43", "sender": "יובל קורן", "text": "אומרים שכשעשו לו ברית הוא שכב באיכילוב והמוהל היה בתל השומר..."}, {"time": "13/07/2020, 08:44", "sender": "חבובו ינאי", "text": "🥴"}, {"time": "13/07/2020, 08:44", "sender": "חבובו ינאי", "text": "לדעתי הוא פרש"}, {"time": "13/07/2020, 08:45", "sender": "יובל קורן", "text": "הוא קבל זכיון לבורגר ראנץ בזמנו"}, {"time": "13/07/2020, 10:56", "sender": "גלעד", "text": "מסתבר שבזמן הקורונה אפשר לעשות פרויקט 20%. כאילו לא אמרו את זה במפורש אבל זה השתמע."}, {"time": "13/07/2020, 10:56", "sender": "גלעד", "text": "https://foobarlist.com/list/3/196cc4b90f61d6d1512a82f215c2b77f"}, {"time": "13/07/2020, 10:57", "sender": "גלעד", "text": "אגב, אם מישהו משתמש בפיירפוקס אני אשמח אם הוא יבדוק אם זה עובד בפיירפוקס או לא."}, {"time": "13/07/2020, 10:59", "sender": "גלעד", "text": "וגם כמובן יהיה משין לרנינג אם תבקשו."}, {"time": "13/07/2020, 11:02", "sender": "דיאנה אורי", "text": "אורי, את זה ראינו? The Capture (TV Mini-Series 2019– ) - IMDb????"}]}, {"text": "נראה לי יותר סביר שאתה תצביע בנט מאשר הוא באמת יוריד מיסים.", "sender": "גלעד", "senders": ["איילת אדלר", "גלעד", "ד\"ר טליה שנצר"], "chat": [{"time": "13/03/2021, 08:07", "sender": "גלעד", "text": "סגור"}, {"time": "13/03/2021, 08:07", "sender": "אורי אברהם", "text": "ואם חלק מהקול שלי הולך לבנט?"}, {"time": "13/03/2021, 08:07", "sender": "אורי אברהם", "text": "נראה לי שזה מה שיקרה"}, {"time": "13/03/2021, 08:08", "sender": "גלעד", "text": "גם הולך"}, {"time": "13/03/2021, 08:08", "sender": "אורי אברהם", "text": "👍"}, {"time": "13/03/2021, 08:08", "sender": "גלעד", "text": "נראה לי יותר סביר שאתה תצביע בנט מאשר הוא באמת יוריד מיסים."}, {"time": "13/03/2021, 08:11", "sender": "גלעד", "text": "בקיצור אם מורידים מיסים ב-20% ארוחה באורי בורי."}, {"time": "13/03/2021, 08:20", "sender": "חבובו ינאי", "text": "גלעד, אם אתה מצביע בנט והוא הולך עם ביבי ארוחה ברוקו?"}, {"time": "13/03/2021, 09:12", "sender": "גלעד", "text": "You deleted this message"}, {"time": "13/03/2021, 09:13", "sender": "גלעד", "text": "אז עם מי הוא ילך?"}]}, {"text": "בטח לא לבנט, אתה יודע איזה מחיר הוא מוכן לשלם בשביל תמר.", "sender": "גלעד", "senders": ["גלעד", "איילת אדלר", "אופיר שנצר"], "chat": [{"time": "04/06/2021, 17:43", "sender": "גלעד", "text": "https://open.spotify.com/episode/24cqEA28QkWYoCNqdliyEg?si=VwOjkxoLRM2ftyuIjX1YwQ&utm_source=whatsapp"}, {"time": "04/06/2021, 17:50", "sender": "חבובה", "text": "אצלנו בשכונה יש קניה מרוכז. מחלקאים לחלק מהפרות במחירים משתלמים. דבר איתי אם אתה רוצה להצטרף"}, {"time": "04/06/2021, 17:50", "sender": "יובל קורן", "text": "אני אשמח, זה במשלוח הביתה?"}, {"time": "04/06/2021, 17:51", "sender": "חבובה", "text": "לא, זה מגיע למישהו בשכונה שמרכז את הקנייה ואוספים את זה ממנו"}, {"time": "04/06/2021, 17:52", "sender": "יובל קורן", "text": "סבבה"}, {"time": "04/06/2021, 17:56", "sender": "גלעד", "text": "בטח לא לבנט, אתה יודע איזה מחיר הוא מוכן לשלם בשביל תמר."}, {"time": "04/06/2021, 17:59", "sender": "יובל קורן", "text": "תמר זה קטגוריה אחרת של פירות יבשים 😂"}, {"time": "04/06/2021, 20:48", "sender": "יובל קורן", "text": "מצאתם קולפן טוב?"}]}, {"text": "לכל העוקבים של הבלוג, אני רוצה לבשר לכם שהחלטתי לסלוח לכם על כל החטאים שלכם בתקופה שבין ט בתשרי התשעט ו-ט בתשרי התשפ.", "sender": "גלעד", "senders": ["איילת אדלר", "ד\"ר טליה שנצר", "גלעד"], "chat": [{"time": "08/10/2019, 08:33", "sender": "חבובה", "text": "ה 700"}, {"time": "08/10/2019, 09:07", "sender": "יובל קורן", "text": "לדיאנה הרבה הרבה מזל טוב ליומהולדת! אני מאחל לך הרבה אושר, שמחה ואהבה, שתשארי את ולא אחרת, ותפתרי כל מספר עם סיגמא, שורה ועצרת!"}, {"time": "08/10/2019, 09:15", "sender": "דיאנה אורי", "text": "תודה ☺☺☺"}, {"time": "08/10/2019, 09:29", "sender": "חבובו ינאי", "text": "המון מזל טוב דיאנה 🎊🎉"}, {"time": "08/10/2019, 09:41", "sender": "גלעד", "text": "לכל העוקבים של הבלוג, אני רוצה לבשר לכם שהחלטתי לסלוח לכם על כל החטאים שלכם בתקופה שבין ט בתשרי התשעט ו-ט בתשרי התשפ."}, {"time": "08/10/2019, 09:59", "sender": "חבובו ינאי", "text": "תודה גלעד. אני מעריך את זה 😅"}, {"time": "08/10/2019, 09:59", "sender": "רוני פינקסי", "text": "המון מזל טוב דיאנה 🥳🍾"}, {"time": "08/10/2019, 09:59", "sender": "דיאנה אורי", "text": "תודה! ☺☺☺"}, {"time": "08/10/2019, 09:59", "sender": "חבובו ינאי", "text": "חברים יקרים, אף אחד מכם לא עשה לי שום דבר רע אז אין על מה לסלוח 😊"}]}, {"text": "ובהנחה שחוקר דינוזאורים זה גם סוג של שוטר, אז עד 2033 מעל שליש מהאזרחים צפויים להיות שוטרים.", "sender": "גלעד", "senders": ["אופיר שנצר", "פסיה שנצר", "גלעד"], "chat": [{"time": "29/06/2021, 08:03", "sender": "גלעד", "text": "צפי למחסור בעובדים בהייטק."}, {"time": "29/06/2021, 08:08", "sender": "גלעד", "text": "ובהנחה שחוקר דינוזאורים זה גם סוג של שוטר, אז עד 2033 מעל שליש מהאזרחים צפויים להיות שוטרים."}]}, {"text": "רק אומר שאלה עובדים שבגדול יכולים גם לשלם מס בחול אם בא להם.", "sender": "גלעד", "senders": ["מעיין אדלר", "גלעד", "פסיה שנצר"], "chat": [{"time": "16/06/2021, 15:39", "sender": "גלעד", "text": "אז תעזור לחבובו עם הריקפצ׳ה."}, {"time": "16/06/2021, 17:41", "sender": "גלעד", "text": "https://www.israelhayom.co.il/business/article/2240533/"}, {"time": "16/06/2021, 17:41", "sender": "גלעד", "text": "\"עובדי ההיי־טק הישראלים, המהווים כ־10% מהשכירים במשק, אחראים *לכשישים אחוזים* מתקבולי מס ההכנסה משכירים בישראל\""}, {"time": "16/06/2021, 17:46", "sender": "יובל קורן", "text": "כי יש גם מס לא של שכירים"}, {"time": "16/06/2021, 17:46", "sender": "יובל קורן", "text": "חברות, עוסק מורשה, עוסק פטור וכו'..."}, {"time": "16/06/2021, 17:47", "sender": "גלעד", "text": "רק אומר שאלה עובדים שבגדול יכולים גם לשלם מס בחול אם בא להם."}, {"time": "16/06/2021, 18:04", "sender": "אורי אברהם", "text": "באיזה פייסבוק חבר שלך מתחיל לעבוד?"}, {"time": "16/06/2021, 18:04", "sender": "גלעד", "text": "יש כמה?"}, {"time": "16/06/2021, 18:05", "sender": "גלעד", "text": "זה שעושים לייקים לתמונות ומקללים אחד את השני בדיונים על פוליטיקה."}, {"time": "16/06/2021, 18:05", "sender": "אורי אברהם", "text": "יש בכל מיני מקומות בעולם. הוא יכול לשלם מס בחול אם בא לו"}]}, {"text": "יודעים איך יקראו לזמרת פולינה בלילובסקי אם היא תתחתן עם נשיא ארצות הברית?", "sender": "גלעד", "senders": ["גלעד", "איילת אדלר", "ד\"ר טליה שנצר"], "chat": [{"time": "22/08/2020, 17:50", "sender": "גלעד", "text": "יודעים איך יקראו לזמרת פולינה בלילובסקי אם היא תתחתן עם נשיא ארצות הברית?"}, {"time": "22/08/2020, 18:25", "sender": "גלעד", "text": "צריכים רמז?"}, {"time": "22/08/2020, 18:26", "sender": "יובל קורן", "text": "נשמח"}, {"time": "22/08/2020, 18:27", "sender": "גלעד", "text": "טראמפ פולינה."}, {"time": "22/08/2020, 18:27", "sender": "יובל קורן", "text": "😆"}]}, {"text": "בסופו של דבר אם תצביע למפלגה שרוצה להוריד מיסים אז יורידו מיסים ואם תצביע למפלגה שורצה להעלות מיסים אז יעלו מיסים.", "sender": "גלעד", "senders": ["איילת אדלר", "ד\"ר טליה שנצר", "גלעד"], "chat": [{"time": "21/05/2021, 17:26", "sender": "חבובו ינאי", "text": "https://www.ynet.co.il/economy/article/H19eI04F00"}, {"time": "21/05/2021, 18:00", "sender": "גלעד", "text": "אני עוקב אחרי הכתב הזה. אם תשים לב הוא רק רוצה להעלות מיסים."}, {"time": "21/05/2021, 18:01", "sender": "יותם ארצות הברית", "text": "מאיזה גיל אתה עוקב אחריו?"}, {"time": "21/05/2021, 18:04", "sender": "גלעד", "text": "מאז שיש לו פרצוף חמוץ."}, {"time": "21/05/2021, 18:24", "sender": "גלעד", "text": "בסופו של דבר אם תצביע למפלגה שרוצה להוריד מיסים אז יורידו מיסים ואם תצביע למפלגה שורצה להעלות מיסים אז יעלו מיסים."}, {"time": "21/05/2021, 21:07", "sender": "גלעד", "text": "בטח הוא גם רוצה לראות איך מעלים פה מיסים."}, {"time": "21/05/2021, 21:16", "sender": "אורי אברהם", "text": "סמולן מאנייק. לא אכפת לו מיהודים. מקבל מימון מג'ורג' סורוס והקרן החדשה"}]}, {"text": "אופציה שניה היא ליצור רשת נוירונים עמוקה ולתת לה 10,000,000 דוגמאות של מספרים מיוחדים ו-10,000,000 מליון דוגמאות של מספרים לא מיוחדים.", "sender": "גלעד", "senders": ["ד\"ר טליה שנצר", "איילת אדלר", "גלעד"], "chat": [{"time": "11/05/2019, 15:29", "sender": "גלעד", "text": "לדעתי אם מובילאיי יוסיפו פונקציה לקופסה שלהם שמצלמת מספרים מיוחדים אז היה משתלם לאינטל לשלם להם 15,000,000,000 דולרים."}, {"time": "11/05/2019, 15:30", "sender": "גלעד", "text": "כרגע הדבר היחיד שהם יודעים לעשות זה לצפצף."}, {"time": "11/05/2019, 15:31", "sender": "יובל קורן", "text": "האלגוריתם שמחליט אם זה מיוחד או לא נשמע סטארטאפ מבטיח"}, {"time": "11/05/2019, 15:33", "sender": "גלעד", "text": "לדעתי מספר בן d ספרות הוא מיוחד אם הסיכוי לקבל אותו כאשר מגרילים כל ספרה בצורה יוניפורמית ובלתי תלויה קטן או שווה ל-10^-d."}, {"time": "11/05/2019, 15:35", "sender": "יותם אלאור", "text": "בדיחה של חנונים"}, {"time": "11/05/2019, 15:35", "sender": "גלעד", "text": "אופציה שניה היא ליצור רשת נוירונים עמוקה ולתת לה 10,000,000 דוגמאות של מספרים מיוחדים ו-10,000,000 מליון דוגמאות של מספרים לא מיוחדים."}, {"time": "11/05/2019, 15:36", "sender": "גלעד", "text": "ולתת לה להחליט מה מיוחד ומה לא."}, {"time": "11/05/2019, 17:18", "sender": "חבובו ינאי", "text": "מה שחשוב זאת ההשקעה לא תמיד המספר... כל הכבוד!"}, {"time": "11/05/2019, 17:19", "sender": "יותם אלאור", "text": "כמעט מיוחד קלאסי"}]}, {"text": "יש פה מישהו שהשם שלו מתחרז עם נחמד ויודע במקרה אם ב-DHT בתכלס גם יש שרת מרכזי?", "sender": "גלעד", "senders": ["ענת אופיר", "פסיה שנצר", "גלעד"], "chat": [{"time": "26/03/2020, 13:48", "sender": "גלעד", "text": "יש פה מישהו שהשם שלו מתחרז עם נחמד ויודע במקרה אם ב-DHT בתכלס גם יש שרת מרכזי?"}, {"time": "26/03/2020, 14:00", "sender": "אלעד גדרון", "text": "תלוי במימוש,לא בהכרח"}, {"time": "26/03/2020, 14:43", "sender": "גלעד", "text": "ב-Bitorrent?"}, {"time": "26/03/2020, 15:20", "sender": "חבובו ינאי", "text": "חשוב להכיר כי החל ממחר ועד להודעה החדשה לא יחולקו דוחות בשל חניה בכחול לבן ברחבי העיר התחתית ובחיפה בכלל."}, {"time": "26/03/2020, 16:17", "sender": "אלעד גדרון", "text": "כעיקרון אין, אבל אתה צריך להכיר מישהו ברשת, נראה שהם משתמש בdns להתחברות הראשונה"}]}])

    quiz.next()
</script>

</html>
        